<div class="row">
  <div class="col-6">
    <form #productForm="ngForm">
      <div class="form-group container">
        <div class="mb-3">
          <label for="title" class="form-label">Title</label>
          <input
            #title="ngModel"
            required
            minlength="3"
            ngModel
            type="text"
            class="form-control"
            [(ngModel)]="product.title"
            name="title"
          />
          <div class="alert alert-danger" *ngIf="title.touched && !title.valid">
            <div *ngIf="title.errors?.['required']">Title is required</div>
            <div *ngIf="title.errors?.['minlength']">
              Title minimum length is 3
            </div>
          </div>
        </div>
        <div class="mb-3">
          <label for="price" class="form-label">Price</label>
          <input
            #price="ngModel"
            required
            type="number"
            class="form-control"
            [(ngModel)]="product.price"
            name="price"
            [min]="0"
          />
          <div class="alert alert-danger" *ngIf="price.touched && !price.valid">
            <div *ngIf="price.errors?.['required']">Price is required</div>
            <div *ngIf="price.errors?.['min']">Price minimum value is 0</div>
          </div>
        </div>
        <div class="mb-3">
          <label for="category" class="form-label">Category</label>
          <select
            class="form-select"
            #category="ngModel"
            required
            aria-label="Default select example"
            [(ngModel)]="product.category"
            name="category"
          >
            <option selected></option>
            <option *ngFor="let category of categories" value="{{ category }}">
              {{ category }}
            </option>
          </select>
          <div
            class="alert alert-danger"
            *ngIf="category.touched && !category.valid"
          >
            <div *ngIf="category.errors?.['required']">
              category is required
            </div>
          </div>
        </div>
        <div class="mb-3">
          <label for="imageurl" class="form-label">ImageUrl</label>
          <input
            #imageUrl="ngModel"
            required
            type="text"
            class="form-control"
            [(ngModel)]="product.imageUrl"
            name="imageUrl"
            url
          />
          <div
            class="alert alert-danger"
            *ngIf="imageUrl.touched && !imageUrl.valid"
          >
            <div *ngIf="imageUrl.errors?.['required']">
              ImageUrl is required
            </div>
            <div *ngIf="imageUrl.errors?.['url']">
              ImageUrl is not valid url
            </div>
          </div>
        </div>
        <div class="mb-3">
          <button
            class="btn btn-primary"
            type="button"
            (click)="saveProduct(productForm.value)"
            [disabled]="!productForm.form.valid"
          >
            Save
          </button>
          <button
            class="btn btn-danger"
            type="button"
            style="margin-left: 10px"
            (click)="deleteProduct()"
          >
            Delete
          </button>
        </div>
        {{ product | json }}
      </div>
    </form>
  </div>
  <div class="col-6">
    <div class="card" *ngIf="product.title" style="width: 18rem">
      <img [src]="product.imageUrl" class="card-img-top" />
      <div class="card-body">
        <h5 class="card-title">{{ product.title }}</h5>
        <p class="card-text">{{ product.price | currency : "USD" : true }}</p>
      </div>
    </div>
  </div>
</div>
